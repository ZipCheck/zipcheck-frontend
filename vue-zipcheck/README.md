# 📌 프론트엔드 수정 요청 스크립트 (게시글 수정/삭제 버튼 문제)

본 문서는 **현재 ZipCheck 백엔드 구조를 기준으로**,
프론트엔드 UI/UX 생성 AI(Figma, Stitch AI, 웹 디자인 생성 AI 등)에 **그대로 전달하여 사용 가능한 요청 스크립트**입니다.

---

## 🔍 현재 상황 요약

* 게시글은 **로그인한 사용자가 직접 작성한 게시글**임
* 백엔드에서는 `userId` 기준으로 **게시글 수정/삭제 권한 검증이 정상 동작**함
* 그러나 프론트엔드에서 **수정 / 삭제 버튼이 보이지 않거나 비활성화됨**

---

## ❗ 문제의 핵심 원인

프론트엔드에서 **게시글 작성자 여부를 잘못된 기준으로 판단하고 있음**

* 게시글 상세 API 응답에는 `userId` 필드가 **존재하지 않음**
* 현재 백엔드에서 내려주는 작성자 관련 정보:

  * `nickname`
  * `profileImageUrl`
* 따라서 프론트에서 다음과 같은 비교 로직을 사용하고 있다면 문제 발생:

```js
board.userId === loginUserId // ❌ 항상 false
```

---

## ✅ 프론트엔드 수정 요구 사항

### 1️⃣ 로그인 유저 정보 관리 기준

* 로그인 유저 정보는 JWT 디코딩 또는 전역 상태(store)로 관리
* 최소 필요 정보 구조 예시:

```js
loginUser = {
  userId,
  nickname
}
```

---

### 2️⃣ 게시글 수정/삭제 버튼 노출 조건 (핵심)

> **게시글 작성자 닉네임과 로그인 유저 닉네임이 일치할 경우에만 버튼 노출**

```text
board.nickname === loginUser.nickname
```

* `userId` 비교 방식 ❌
* `nickname` 비교 방식 ⭕

---

### 3️⃣ UI 동작 요구 사항

* 게시글 상세 페이지에서 다음 조건을 모두 만족할 경우에만 버튼 노출:

  * 로그인 상태일 것
  * 게시글 작성자일 것

* 타인의 게시글일 경우:

  * 수정 / 삭제 버튼 미노출
  * 또는 disabled 상태로 처리

---

### 4️⃣ 버튼 클릭 시 API 연동 규칙

#### 🔹 게시글 수정

```http
PUT /boards/{boardId}
```

#### 🔹 게시글 삭제

```http
DELETE /boards/{boardId}
```

* 요청 시 Access Token은 Authorization Header에 포함
* `userId`는 요청 바디나 파라미터로 전달하지 않음

  * (백엔드에서 인증 정보로 자동 판별)

---

## 🧩 게시글 상세 API 응답 예시

```json
{
  "boardId": 1,
  "title": "게시글 제목",
  "category": "FREE",
  "content": "게시글 내용",
  "nickname": "작성자닉네임",
  "profileImageUrl": "https://...",
  "likeCount": 3,
  "isLiked": true,
  "createdAt": "2024-12-20T10:00:00"
}
```

---

## 🎯 최종 목표

* 내가 작성한 게시글에서는 **반드시 수정 / 삭제 버튼이 노출**되어야 함
* 권한 판단은 **닉네임 비교 기준**으로 처리
* **백엔드 로직 변경 없이 프론트엔드 로직만 수정**

---

## ➕ 추가 UI 요청 사항 (선택)

* 수정 / 삭제 버튼은 게시글 상단 우측에 아이콘 형태로 배치
* 모바일 / 데스크톱 반응형 UI 고려
* 삭제 버튼 클릭 시 confirm 모달 표시

---

본 스크립트는 **프론트엔드 UI 생성 AI에 그대로 전달하여 사용 가능**합니다.
